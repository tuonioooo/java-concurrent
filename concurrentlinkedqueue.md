# ConcurrentLinkedQueue

在并发编程中，有时候需要使用线程安全的队列。如果要实现一个线程安全的队列有两

种方式：一种是使用阻塞算法，另一种是使用非阻塞算法。使用阻塞算法的队列可以用一个锁

（入队和出队用同一把锁）或两个锁（入队和出队用不同的锁）等方式来实现。非阻塞的实现方

式则可以使用循环CAS的方式来实现。本节让我们一起来研究一下Doug Lea是如何使用非阻

塞的方式来实现线程安全队列ConcurrentLinkedQueue的，相信从大师身上我们能学到不少并

发编程的技巧。

ConcurrentLinkedQueue是一个基于链接节点的无界线程安全队列，它采用先进先出的规

则对节点进行排序，当我们添加一个元素的时候，它会添加到队列的尾部；当我们获取一个元

素时，它会返回队列头部的元素。它采用了“wait-free”算法（即CAS算法）来实现，该算法在

Michael&Scott算法上进行了一些修改。

