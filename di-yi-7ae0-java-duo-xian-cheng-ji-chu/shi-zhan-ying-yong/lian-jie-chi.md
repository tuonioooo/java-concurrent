## 连接池

连接池是创建和管理一个连接的缓冲池的技术，这些连接准备好被任何需要它们的[线程](https://baike.baidu.com/item/线程/103101)使用。

## **优点**

这种连接“汇集”起来的技术基于这样的一个事实：对于大多数应用程序，当它们正在处理通常需要数毫秒完成的

[事务](https://baike.baidu.com/item/事务)

时，仅需要能够访问

[JDBC](https://baike.baidu.com/item/JDBC)

连接的 1 个线程。当不处理事务时，这个连接就会闲置。相反，连接池允许闲置的连接被其它需要的线程使用。

事实上，当一个线程需要用 JDBC 对一个 GBase 或其它数据库操作时，它从池中请求一个连接。当这个线程使用完了这个连接，将它返回到连接池中，这样这就可以被其它想使用它的线程使用。

当连接从池中“借出”，它被请求它的

[线程](https://baike.baidu.com/item/线程)

专有地使用。从编程的角度来看，这和用户的线程每当需要一个 JDBC 连接的时候调用DriverManager.getConnection\(\) 是一样的，采用

[连接池技术](https://baike.baidu.com/item/连接池技术)

，可通过使用新的或已有的连接结束线程。

连接池可以极大的改善用户的 Java 应用程序的性能，同时减少全部资源的使用。连接池主要的优点有：

**减少连接创建时间**

虽然与其它数据库相比 GBase 提供了较为快速连接功能，但是创建新的 JDBC 连接仍会招致网络和 JDBC 驱动的开销。如果这类连接是“循环”使用的，使用该方式这些花销就可避免。

**简化的编程模式**

当使用连接池时，每一个单独的线程能够像创建了一个自己的 JDBC 连接一样操作，允许用户直接使用JDBC[编程技术](https://baike.baidu.com/item/编程技术)。

**受控的资源使用**

如果用户不使用连接池，而是每当[线程](https://baike.baidu.com/item/线程)需要时创建一个新的连接，那么用户的应用程序的资源使用会产生非常大的浪费并且可能会导致高负载下的异常发生。注意，每个连到 GBase 的连接在客户端和服务器端都有花销（内存，CPU，[上下文切换](https://baike.baidu.com/item/上下文切换)等等）。每个连接均会对应用程序和 GBase 服务器的可用资源带来一定的限制。不管这些连接是否在做有用的工作，仍将使用这些资源中的相当一部分。

连接池能够使性能最大化，同时还能将资源利用控制在一定的水平之下，如果超过该水平，应用程序将崩溃而不仅仅是变慢。

